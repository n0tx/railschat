<div class="h-screen flex">
  <aside class="w-64 bg-white p-4 border-r">
    <h2>Participants</h2>
    <ul>
      <% (@room.messages.map(&:user).uniq).each do |u| %>
        <li><%= u.name %></li>
      <% end %>
    </ul>
  </aside>
  <div class="flex-1 flex flex-col">
    <header class="p-4 border-b flex justify-between">
      <h1><%= @room.name %></h1>
      <%= link_to "Back", dashboard_path %>
    </header>
    <div id="messages" class="flex-1 overflow-y-auto p-4">
      <%= turbo_stream_from @room %>
      <%= render @messages %>
    </div>
    <div class="p-4 border-t">
      <%= turbo_frame_tag "new_message" do %>
        <%= form_with model: [@room, @message], data: { controller: "reset", action: "turbo:submit-end->reset#clear" } do |f| %>
          <div class="flex">
            <%= f.text_field :content, placeholder: "Type a message...", class: "flex-1" %>
            <%= f.submit "Send", class: "btn-blue" %>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>
</div>